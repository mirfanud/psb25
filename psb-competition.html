<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pakistan Spelling Bee (2025 - 2026) - Sample Competition</title>
<style>
  body {font-family:Arial,sans-serif;background:#f7f9fc;color:#333;padding:2rem;}
  header {
    text-align: center;
    padding: 2rem 1rem 1rem;
    background: #007bff;
    color: white;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  header h1 {
    font-size: 2rem;
    margin-bottom: 0.5rem;
  }
  header h2 {
    font-weight: 400;
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }
  header h3 {
    font-weight: 300;
    font-size: 1.2rem;
    color: #f1f1f1;
  }
    .aaban-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: white;
    margin: 2rem auto;
    padding: 1.5rem;
    width: 90%;
    max-width: 600px;
    border-radius: 16px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  .aaban-section img {
    width: 230px;
    height: 230px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid #007bff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  .aaban-section h3 {
    margin-top: 1rem;
    font-size: 1.4rem;
    color: #007bff;
  }

  textarea{width:100%;height:100px;font-size:16px;padding:10px;border-radius:8px;border:1px solid #ccc;margin-bottom:1rem;}
  button{background:#007bff;color:#fff;border:none;padding:10px 15px;border-radius:8px;cursor:pointer;font-size:16px;}
  button:hover{background:#0056b3;}
  .round{margin-top:2rem;background:white;padding:1rem;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
  .word-block{border-bottom:1px solid #eee;padding:0.6rem 0;}
  .word-line{display:flex;align-items:center;flex-wrap:wrap;gap:8px;}
  .word-line strong{color:#007bff;font-size:18px;}
  .play-btn{background:#28a745;color:#fff;border:none;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;}
  .play-btn:hover{background:#1e7e34;}
  .score-section{margin-top:10px;font-weight:bold;text-align:center;}
  #progress{text-align:center;margin-top:1rem;font-weight:bold;}
  .marking{margin-top:5px;}
  .marking label{margin-right:10px;}
  .procedure{margin-left:15px;}
  .hidden{display:none;}
  .score-details {
    background: #eef7ff;
    border-radius: 8px;
    padding: 10px;
    margin-top: 10px;
  }
  .score-details ul {
    list-style-type: none;
    padding-left: 0;
  }
  .score-details li {
    margin: 4px 0;
  }  
  .score-details h3 {
    color: #007bff;
    margin-bottom: 5px;
  }
  .round-setup {
    border: 2px solid #ddd;
    border-radius: 12px;
    padding: 15px;
    margin: 15px 0;
    background: #f8f9fa;
  }
  .output-area {
    margin-top: 10px;
  }
</style>
</head>
<body>
  <header>
    <h1>Pakistan Spelling Bee - Sample Competition (2025-2026)</h1>
    <h2>Grade 4</h2>
  </header>

    <div class="aaban-section">
    <img src="aaban3.jpeg" alt="Aaban Uddin">
    <h3>Aaban Uddin ‚Äì Preparation</h3>
  </div>


<button onclick="startCompetition()">Start Competition</button>
<div id="roundContainer"></div>

<script>

const words = `
Abaft Abandon Abroad Acceptance Accomplice Accurate Acrostic Addition Admirer Adrift Aforesaid Afroth Agility Amazon
Americana Amiably Amish Amulet Amusement Amusing Anime Anniversary Annual Anoint Apparel Applause Argue Astonish Attendee 
Attitude Available Avatar Avenue Awry Bailiff Balance Bargain Basement Basmati Beckon Behold Belief Benches Bicycle 
Billboard Biology Biscuit Bizarre Blandish Blanket Blarney Blemish Blizzard Blurred Boarders Bogus Boogie-woogie Bookworm 
Boorish Bootless Botany Bowie Breakfast Breathtaking Brethren Bristle Bronze Bumblebee Butterscotch Camcorder Carnation
Carnival Carnivore Cashier
Celery
Chilli
Cidery
Classical
Clause
Condemn
Copperhead
Cosmic
Criminal
Description
Contestants
Diagram
Castle
Contusion
Dialect
Caterpillar
Convention
Digestive
Cattle
Cooperate
Dignified
Dillydally
Dimension
Chowder
Corkscrew
Cornily
Disaster
Distinctive
Citation
Distraught
Clambering
Craggy
Creation
Diversion
Diversity
Criteria
Downcast
Clients
Clipper
Crooked
Dramatization
Dreadlocks
Clover
Crumpled
Cucumber
Duckling
Clowder
Cupboard
Dumbwaiter
Companion
Eagerly
Compelling
Complaint
Complementary
Custody
Daresay
Daunted
Editorial
Effortless
Dawdle
Egyptian
Complete
Composite
Compost
Debunk
D√©cor
Einstein
Elasticity
Delicate
Elocution
Endearing
Flashback
Funnel
Engraved
Flattery
Furnish
Enormous
Fleeciness
Galaxy
Entr√©e
Flexible
Garniture
Epoxy
Flimflammer
Gaucho
Escalator
Floridly
Genetic
Escapade
Flummery
Giraffe
Excellent
Flustered
Glinting
Existence
Foothills
Glitterati
Extradition
Foppery
Godspeed
Fabulist
Forensics
Gradual
Fadeaway
Forgeable
Gravely
Failure
Forgive
Gridiron
Famished
Formalize
Grumbling
Fantastically
Formula
Guardian
Fashionista
Fragile
Gymnastics
Faucet
Fragrance
Habitual
Favourite
Frailty
Hardtack
Fellowship
Fraught
Harmonious
Ferocious
Freight
Harrowing
Fervently
Frequently
Headdress
Filbert
Fribble
Headlong
Filters
Frontier
Hermitage
Flannel
Frozen
Highlands
Hollyhock
Jealousy
Lizard
Homesteader
Jitterbug
Lodging
Homicide
Joinery
Luddi
Horrid
Jubilant
Lukewarm
Horseradish
Kenning
Magician
Hushed
Kernel
Mammal
Illusion
Kindred
Mansion
Impact
Knitting
Manure
Indicate
Labradoodle
Marathon
Infiltrate
Lactose
Marbles
Influential
Lambasted
Maritime
Inglorious
Lateral
Marooned
Initials
Laundry
Massive
Innocent
Lawyer
Maximum
Insomnia
Lazily
Mayhem
Intellectual
Leeway
Medallion
Intersect
Legislature
Membership
Intertidal
Lexicon
Memorandum
Invisible
Liberty
Meteor
Invitation
Likelier
Metrical
Irrigation
Limelight
Millionaire
Isolation
Linguistics
Miraculous
Jacket
Listener
Missile
Jankers
Literally
Mockery
Modality
Modesty
Munchkin
Ornament
Raspberry
Overtures
Reckon
Moisture
Monday
Overweening
Regiment
Padlock
Results
Monkeys
Parasite
Riddance
Monopolise
Pardon
Rubric
Monopolize
Passage
Satellite
Montage
Pathogen
Sawdust
Mosquito
Peacock
Scrounge
Mountains
Pedicure
Seclusion
Mummified
Pedigree
Sensory
Peninsular
Severely
Muscular
Nonsense
Performance
Shabby
Nationalism
Perhaps
Shrugged
Nephew
Pilferer
Simmer
Nerfing
Pitiful
Skirmish
Nervily
Plumbing
Slogan
Poisonous
Social
Nurture
Portions
Solitude
Nutmeg
Primers
Spangled
Omission
Pristine
Specific
Opinionated
Optician
Origin
Profiteer
Spinster
Promote
Spreadsheet
Protested
Steampunk
Stewardship
Stubborn
University
Vacation
Sullen
Valuables
Sunflower
Various
Superb
Veered
Sweeten
Versatile
Sympathy
Vinegar
Tantrum
Violin
Teaspoon
Vocabulary
Teenagers
Volume
Thawed
Voyage
Thespian
Warmth
Thrilling
Welcome
Timidly
Whirlybird
Toastmaster
Whiskers
Tolerable
Wimple
Toothbrush
Wizened
Treadmill
Trespass
Trumpet
Tutorial
Twirled
Unbearable
Unfazed
`;


function fillWords(roundName) {
  const textarea = document.getElementById(`wordList_${roundName}`);
  if (textarea) {
    textarea.value = words.trim(); // Populate all words into the textarea
  } else {
    alert(`Text box for ${roundName} not found.`);
  }
}


let allRounds = [];
let currentRound = 0;
const allScores = [];

function startCompetition() {
  const container = document.getElementById("roundContainer");
  container.innerHTML = "";
  allScores.length = 0;
  currentRound = 0;

  const rounds = ["Round 1", "Round 2", "Final Round"];
  allRounds = rounds.map(r => ({ name: r, words: [] }));

  renderRoundSetup(allRounds[currentRound]);
}

function renderRoundSetup(round) {
  const container = document.getElementById("roundContainer");
  container.insertAdjacentHTML("beforeend", `
    <div id="round_${round.name.replace(/\s+/g,'')}" class="round-setup">
      <h2>${round.name}</h2>
      <textarea id="wordList_${round.name}" rows="4" placeholder="Enter word list for ${round.name}, separated by spaces..."></textarea>
      <br/>
            <button onclick="fillWords('${round.name}')">Fill Words</button>
            <button onclick="pickRandomWords('${round.name}')">Pick Random 10 Words</button>
            <div id="output_${round.name}" class="output-area"></div>
      <div id="score_${round.name}"></div>
      <div id="next_${round.name}"></div>
    </div>
  `);
}

async function pickRandomWords(roundName) {
  const input = document.getElementById(`wordList_${roundName}`).value.trim();
  const outputDiv = document.getElementById(`output_${roundName}`);
  outputDiv.innerHTML = "<em>Loading definitions...</em>";

  const words = input.split(/[\s,]+/).filter(Boolean);
  if (words.length < 10) {
    alert("Please enter at least 10 words for this round.");
    outputDiv.innerHTML = "";
    return;
  }

  // Randomly select 10 words
  const shuffled = [...words].sort(() => Math.random() - 0.5);
  const selected = shuffled.slice(0, 10);
  allRounds.find(r => r.name === roundName).words = selected;

  const results = [];
  for (const word of selected) {
    try {
      const res = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
      const data = await res.json();
      if (Array.isArray(data)) {
        const entry = data[0];
        const phonetic = entry.phonetic || (entry.phonetics[0]?.text ?? '');
        const meaning = entry.meanings[0]?.definitions[0]?.definition ?? 'No definition found.';
        const audioUrl = entry.phonetics.find(p => p.audio)?.audio || '';

        results.push(`
          <div class='word-block'>
            <div class='word-line'>
              <strong>${entry.word}</strong> ${phonetic ? `<span>/${phonetic}/</span>` : ''}
              <button class="play-btn" onclick="playSound('${audioUrl}', '${entry.word}')">üîä</button>
            </div>
            <div>‚Äì ${meaning}</div>
            <div>
              <label><input type="radio" name="${roundName}_${entry.word}" value="correct"> Correct</label>
              <label><input type="radio" name="${roundName}_${entry.word}" value="incorrect"> Incorrect</label>
              <label><input type="checkbox" id="proc_${roundName}_${entry.word}"> Incorrect Procedure</label>
            </div>
          </div>
        `);
      } else {
        results.push(`
          <div class='word-block'>
            <strong>${word}</strong> ‚Äì No definition found.
            <button class="play-btn" onclick="playSound('', '${word}')">üîä</button>
            <div>
              <label><input type="radio" name="${roundName}_${word}" value="correct"> Correct</label>
              <label><input type="radio" name="${roundName}_${word}" value="incorrect"> Incorrect</label>
              <label><input type="checkbox" id="proc_${roundName}_${word}"> Incorrect Procedure</label>
            </div>
          </div>
        `);
      }
    } catch (e) {
      results.push(`<div><strong>${word}</strong> ‚Äì Error fetching data.</div>`);
    }
  }

  outputDiv.innerHTML = results.join('') + `
    <br/>
    <button onclick="calculateRoundScore('${roundName}')">Calculate ${roundName} Score</button>
  `;
}

function calculateRoundScore(roundName) {
  let score = 0;
  let correctBoth = 0;
  let correctSpellWrongProc = 0;
  let wrongSpellCorrectProc = 0;
  let wrongBoth = 0;
  let noAttempt = 0;

  const inputs = document.querySelectorAll(`input[name^="${roundName}_"]`);
  const wordNames = new Set();
  inputs.forEach(inp => wordNames.add(inp.name));

  wordNames.forEach(name => {
    const selected = document.querySelector(`input[name="${name}"]:checked`);
    const isProcedureCorrect = document.getElementById(`proc_${name}`)?.checked ?? false;

    let marks = -1; // default
    if (selected) {
      const spelling = selected.value;
      if (spelling === 'correct' && isProcedureCorrect) { marks = 2; correctBoth++; }
      else if (spelling === 'correct' && !isProcedureCorrect) { marks = 0; correctSpellWrongProc++; }
      else if (spelling === 'incorrect' && isProcedureCorrect) { marks = -1; wrongSpellCorrectProc++; }
      else if (spelling === 'incorrect' && !isProcedureCorrect) { marks = -1; wrongBoth++; }
    } else {
      noAttempt++;
    }
    score += marks;
  });

  const details = {
    roundName,
    correctBoth,
    correctSpellWrongProc,
    wrongSpellCorrectProc,
    wrongBoth,
    noAttempt,
    total: score
  };
  allScores.push(details);

  // Show breakdown
  document.getElementById(`score_${roundName}`).innerHTML = `
    <div class="score-details">
      <p><strong>${roundName} Score Breakdown</strong></p>
      <ul>
        <li>‚úÖ Both spelling & procedure correct: ${correctBoth} √ó 2 = ${correctBoth * 2}</li>
        <li>‚ö†Ô∏è Spelling correct but procedure incorrect: ${correctSpellWrongProc} √ó 0 = 0</li>
        <li>‚ùå Spelling incorrect but procedure correct: ${wrongSpellCorrectProc} √ó -1 = ${wrongSpellCorrectProc * -1}</li>
        <li>üö´ Both incorrect or no attempt: ${wrongBoth + noAttempt} √ó -1 = ${(wrongBoth + noAttempt) * -1}</li>
      </ul>
      <p><strong>Total: ${score}</strong></p>
    </div>`;

  // Go to next round
  const nextDiv = document.getElementById(`next_${roundName}`);
  nextDiv.innerHTML = "";
  if (currentRound + 1 < allRounds.length) {
    const nextButton = document.createElement("button");
    nextButton.textContent = `Go to ${allRounds[currentRound + 1].name}`;
    nextButton.onclick = () => {
      currentRound++;
      renderRoundSetup(allRounds[currentRound]);
    };
    nextDiv.appendChild(nextButton);
  } else {
    const finishBtn = document.createElement("button");
    finishBtn.textContent = "View Final Summary";
    finishBtn.onclick = showFinalSummary;
    nextDiv.appendChild(finishBtn);
  }
}

function showFinalSummary() {
  const container = document.getElementById("roundContainer");
  container.insertAdjacentHTML("beforeend", `<h2>üèÅ Final Competition Summary</h2>`);

  let totalScore = 0;
  allScores.forEach(round => {
    totalScore += round.total;
    container.insertAdjacentHTML("beforeend", `
      <div class="score-details">
        <h3>${round.roundName}</h3>
        <ul>
          <li>‚úÖ Both spelling & procedure correct: ${round.correctBoth} √ó 2 = ${round.correctBoth * 2}</li>
          <li>‚ö†Ô∏è Spelling correct but procedure incorrect: ${round.correctSpellWrongProc} √ó 0 = 0</li>
          <li>‚ùå Spelling incorrect but procedure correct: ${round.wrongSpellCorrectProc} √ó -1 = ${round.wrongSpellCorrectProc * -1}</li>
          <li>üö´ Both incorrect or no attempt: ${(round.wrongBoth + round.noAttempt)} √ó -1 = ${(round.wrongBoth + round.noAttempt) * -1}</li>
        </ul>
        <p><strong>Total Score (Round): ${round.total}</strong></p>
      </div>`);
  });

  container.insertAdjacentHTML("beforeend", `
    <div class="score-details" style="background:#d1ffd6;">
      <h2>üèÜ Final Total Score: ${totalScore}</h2>
    </div>`);
}

function playSound(audioUrl, word) {
  if (audioUrl) {
    const audio = new Audio(audioUrl);
    audio.play().catch(() => {
      const utter = new SpeechSynthesisUtterance(word);
      utter.lang = 'en-US';
      speechSynthesis.speak(utter);
    });
  } else {
    const utter = new SpeechSynthesisUtterance(word);
    utter.lang = 'en-US';
    speechSynthesis.speak(utter);
  }
}
</script>
</body>
</html>

